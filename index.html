<!DOCTYPE html>
<html>
  <head>
    <title>Проект "Комменты"</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="styles.css" />
  </head>

  <body>
    <div class="container">
      <ul class="comments" id="comment-field">
        <li class="comment">
          <div class="comment-header">
            <div>Глеб Фокин</div>
            <div>12.02.22 12:18</div>
          </div>
          <div class="comment-body">
            <div class="comment-text">
              Это будет первый комментарий на этой странице
            </div>
          </div>
          <div class="comment-footer">
            <div class="likes">
              <span class="likes-counter">3</span>
              <button class="like-button"></button>
            </div>
          </div>
        </li>
        <li class="comment">
          <div class="comment-header">
            <div>Варвара Н.</div>
            <div>13.02.22 19:22</div>
          </div>
          <div class="comment-body">
            <div class="comment-text">
              Мне нравится как оформлена эта страница! ❤
            </div>
          </div>
          <div class="comment-footer">
            <div class="likes">
              <span class="likes-counter">75</span>
              <button class="like-button -active-like"></button>
            </div>
          </div>
        </li>
      </ul>
      <div class="add-form">
        <input 
          type="text"
          class="add-form-name"
          placeholder="Введите ваше имя" id="comment-name"
        />
        <textarea 
          type="textarea"
          class="add-form-text"
          placeholder="Введите ваш коментарий" id="comment-input"
          rows="4"
        ></textarea>
      </div>
        <div class="add-form-row">
          <button class="add-form-button"  id="comment-button">Написать</button>
        </div>
    </div>
  </body>

  <style>
    .error{
      border: 2px dashed red;
      box-shadow: 0 0 5px 1px red;
    }

  </style>

  <script>
 //создаем переменные 
 const commentField = document.getElementById('comment-field');
 const commentName = document.getElementById('comment-name');
 const commentInput = document.getElementById('comment-input');
 const commentButton = document.getElementById('comment-button');

 // создаем дату и время 
 const newDate = new Date();
 const days = ["Sun", "Mon", "Tues", "Wed", "Thurs", "Fri", "Sat"];
 const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];

 //создаем данные для HTML разметки //хранение комментов
  const comments = [
     {
         name : 'Глеб Фокин',
         text : '12.02.22 12:18',
         date : 'Это будет первый комментарий на этой странице',
         likes : 3,
     },
     {
         name : 'Варвара Н.',
         text : '13.02.22 19:22',
         date : 'Мне нравится как оформлена эта страница! ❤',
         likes : 75,
    },
 ];

     commentButton.addEventListener('click', () => {
         const userDate = newDate.getDate() + " " + months[newDate.getMonth()] + " " + newDate.getFullYear();
         const userTime = newDate.getHours() + ":" + newDate.getMinutes() + ":" + newDate.getSeconds();
    
         commentName.classList.remove('error') //валидация
         if(commentName.value === "") {
             commentName.classList.add('error')
             return;
         }
         commentInput.classList.remove('error')
         if(commentInput.value === "") {
             commentInput.classList.add('error')
             return;
         }
        
         const oldField = commentField.innerHTML;
         commentField.innerHTML = oldField + 
         `<li class="comment">
         <div class="comment-header">
           <div>${commentName.value}</div>
           <div>${userDate} ${userTime}</div>
         </div>
         <div class="comment-body">
           <div class="comment-text">
             ${commentInput.value}
           </div>
         </div>
         <div class="comment-footer">
           <div class="likes">
             <span class="likes-counter"></span>
             <button class="like-button -active-like"></button>
           </div>
         </div>
      </li>`
       commentName.value = "";
       commentInput.value = "";
    
     })
  </script>
</html>
